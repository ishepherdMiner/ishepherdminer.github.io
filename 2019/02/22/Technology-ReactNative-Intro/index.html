<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.2">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png">
  <link rel="mask-icon" href="/images/favicon.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="ç¯å¢ƒ macOS Mojave Version 10.14.3Xcode 10.1iPhone 5s 10.0.1node v11.10.0npm 6.7.0React Native 0.58react 16.6.3  æ–°å»ºReactNativeé¡¹ç›®12brew install nodebrew install watchman  å®‰è£…React Nativeå‘½ä»¤è¡Œå·¥å…·1npm install -">
<meta property="og:type" content="article">
<meta property="og:title" content="ReactNative å…¥é—¨ä½“éªŒ">
<meta property="og:url" content="http://yoursite.com/2019/02/22/Technology-ReactNative-Intro/index.html">
<meta property="og:site_name" content="ğŸ‘¨ğŸ»â€ğŸ’»&#39;s åšå®¢">
<meta property="og:description" content="ç¯å¢ƒ macOS Mojave Version 10.14.3Xcode 10.1iPhone 5s 10.0.1node v11.10.0npm 6.7.0React Native 0.58react 16.6.3  æ–°å»ºReactNativeé¡¹ç›®12brew install nodebrew install watchman  å®‰è£…React Nativeå‘½ä»¤è¡Œå·¥å…·1npm install -">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://i.loli.net/2019/02/22/5c7011541a9e5.jpg">
<meta property="og:image" content="https://i.loli.net/2019/02/22/5c7011544c147.jpg">
<meta property="og:image" content="https://i.loli.net/2019/02/22/5c7011546bcd7.jpg">
<meta property="og:image" content="https://i.loli.net/2019/02/22/5c70115445065.jpg">
<meta property="og:image" content="https://i.loli.net/2019/02/22/5c70115442340.jpg">
<meta property="og:image" content="https://i.loli.net/2019/02/22/5c70115450ed5.jpg">
<meta property="og:image" content="https://i.loli.net/2019/02/22/5c701154982ca.jpg">
<meta property="og:image" content="https://i.loli.net/2019/02/22/5c701154b86f2.jpg">
<meta property="og:image" content="https://i.loli.net/2019/02/22/5c701154c195a.jpg">
<meta property="og:image" content="https://i.loli.net/2019/02/22/5c70115a4758e.jpg">
<meta property="og:image" content="https://i.loli.net/2019/02/22/5c701154c4dce.jpg">
<meta property="og:image" content="https://i.loli.net/2019/02/22/5c70115a2fcb6.jpg">
<meta property="og:image" content="https://i.loli.net/2019/02/22/5c70115a2e090.jpg">
<meta property="article:published_time" content="2019-02-22T15:15:22.000Z">
<meta property="article:modified_time" content="2025-04-26T14:29:29.337Z">
<meta property="article:author" content="å¿˜å·ä¸‰">
<meta property="article:tag" content="RN">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.loli.net/2019/02/22/5c7011541a9e5.jpg">

<link rel="canonical" href="http://yoursite.com/2019/02/22/Technology-ReactNative-Intro/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>ReactNative å…¥é—¨ä½“éªŒ | ğŸ‘¨ğŸ»â€ğŸ’»'s åšå®¢</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">ğŸ‘¨ğŸ»â€ğŸ’»'s åšå®¢</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">æ…¢å“äººé—´çƒŸç«è‰²ï¼Œé—²è§‚ä¸‡äº‹å²æœˆé•¿</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>æ ‡ç­¾</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>åˆ†ç±»</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/02/22/Technology-ReactNative-Intro/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="å¿˜å·ä¸‰">
      <meta itemprop="description" content="404~ ~ ~å°±å¤šèµ°ä¸€æ­¥">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ğŸ‘¨ğŸ»â€ğŸ’»'s åšå®¢">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          ReactNative å…¥é—¨ä½“éªŒ
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-02-22 23:15:22" itemprop="dateCreated datePublished" datetime="2019-02-22T23:15:22+08:00">2019-02-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-04-26 22:29:29" itemprop="dateModified" datetime="2025-04-26T22:29:29+08:00">2025-04-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CrossPlatform/" itemprop="url" rel="index"><span itemprop="name">CrossPlatform</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="é˜…è¯»æ¬¡æ•°" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
              <span id="busuanzi_value_page_pv"></span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="ç¯å¢ƒ"><a href="#ç¯å¢ƒ" class="headerlink" title="ç¯å¢ƒ"></a>ç¯å¢ƒ</h2><blockquote>
<p>macOS Mojave Version 10.14.3<br>Xcode 10.1<br>iPhone 5s 10.0.1<br>node v11.10.0<br>npm 6.7.0<br>React Native 0.58<br>react 16.6.3</p>
</blockquote>
<h2 id="æ–°å»ºReactNativeé¡¹ç›®"><a href="#æ–°å»ºReactNativeé¡¹ç›®" class="headerlink" title="æ–°å»ºReactNativeé¡¹ç›®"></a>æ–°å»º<code>ReactNative</code>é¡¹ç›®</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">brew install node</span><br><span class="line">brew install watchman</span><br></pre></td></tr></table></figure>

<h3 id="å®‰è£…React-Nativeå‘½ä»¤è¡Œå·¥å…·"><a href="#å®‰è£…React-Nativeå‘½ä»¤è¡Œå·¥å…·" class="headerlink" title="å®‰è£…React Nativeå‘½ä»¤è¡Œå·¥å…·"></a>å®‰è£…<code>React Native</code>å‘½ä»¤è¡Œå·¥å…·</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g react-native-cli</span><br></pre></td></tr></table></figure>



<h3 id="å®‰è£…XcodeåŠå‘½ä»¤è¡Œç›¸å…³å·¥å…·"><a href="#å®‰è£…XcodeåŠå‘½ä»¤è¡Œç›¸å…³å·¥å…·" class="headerlink" title="å®‰è£…XcodeåŠå‘½ä»¤è¡Œç›¸å…³å·¥å…·"></a>å®‰è£…<code>Xcode</code>åŠå‘½ä»¤è¡Œç›¸å…³å·¥å…·</h3><p><img src="https://i.loli.net/2019/02/22/5c7011541a9e5.jpg"><br>æˆ–è€…</p>
<span id="more"></span>

<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## man xcode-select</span></span><br><span class="line"><span class="comment">## xcode-select - Manages the active developer directory for Xcode and BSD</span></span><br><span class="line"><span class="comment">##       tools.</span></span><br><span class="line"><span class="comment">## --install</span></span><br><span class="line"><span class="comment">##              Opens a user interface dialog to request automatic  installation</span></span><br><span class="line"><span class="comment">##              of the command line developer tools.</span></span><br><span class="line">xcode-select --install</span><br></pre></td></tr></table></figure>

<p>è¯¦æƒ…å‚è€ƒ<a href="#refer2">è‹±æ–‡-doc é“¾æ¥2</a>/<a href="#refer11">ä¸­æ–‡-doc é“¾æ¥11</a></p>
<h3 id="åˆ›å»ºæ–°åº”ç”¨"><a href="#åˆ›å»ºæ–°åº”ç”¨" class="headerlink" title="åˆ›å»ºæ–°åº”ç”¨"></a>åˆ›å»ºæ–°åº”ç”¨</h3><h4 id="å‘½ä»¤è¡Œ"><a href="#å‘½ä»¤è¡Œ" class="headerlink" title="å‘½ä»¤è¡Œ"></a>å‘½ä»¤è¡Œ</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">react-native init AwesomeProject</span><br></pre></td></tr></table></figure>

<h4 id="WebStorm"><a href="#WebStorm" class="headerlink" title="WebStorm"></a>WebStorm</h4><p><img src="https://i.loli.net/2019/02/22/5c7011544c147.jpg"></p>
<p>è‹¥<code>node</code>ç‰ˆæœ¬è¿‡ä½å¯èƒ½å‡ºç°<code>Command yarn add react-native --exact` failed.</code>,å¯å‚è€ƒ<a href="#refer3">Upgrade Node.js to the latest version on Mac OS</a>å‡çº§<code>node</code></p>
<p>è§‚å¯Ÿæ—¥å¿—çš„è¾“å‡ºç”Ÿæˆå·¥ç¨‹æ‰§è¡Œçš„æ˜¯</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/Users/`userName`/.nvm/versions/node/v11.10.0/bin/node /Users/`userName`/.nvm/versions/node/v11.10.0/lib/node_modules/react-native-cli/index.js init AwesomeProject</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹<code>react-native</code>ä½ç½®</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">which</span> react-native</span><br><span class="line"><span class="comment">## è¾“å‡º</span></span><br><span class="line">/Users/`userName`/.nvm/versions/node/v11.10.0/bin/react-native</span><br></pre></td></tr></table></figure>

<h3 id="è¿è¡ŒReact-Nativeåº”ç”¨"><a href="#è¿è¡ŒReact-Nativeåº”ç”¨" class="headerlink" title="è¿è¡ŒReact Nativeåº”ç”¨"></a>è¿è¡Œ<code>React Native</code>åº”ç”¨</h3><p>åŒæ ·æ ¹æ®çª—å£æ—¥å¿—çš„è¾“å‡º,<code>iOS</code>è¿è¡Œçš„æ–¹æ³•å¯ä»¥ç”¨å‘½ä»¤è¡Œæˆ–ç›´æ¥ä½¿ç”¨<code>Xcode</code>æ‰“å¼€è¿è¡Œ</p>
<p>ä½¿ç”¨å‘½ä»¤è¡Œæ–¹å¼</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## cdåˆ°å·¥ç¨‹ç›®å½•ä¸‹</span></span><br><span class="line"><span class="built_in">cd</span> /Users/`userName`/WebstormProjects/AwesomeProject</span><br><span class="line"><span class="comment">## æ‰§è¡Œ</span></span><br><span class="line">react-native run-ios</span><br><span class="line"></span><br><span class="line">Found Xcode project AwesomeProject.xcodeproj</span><br><span class="line">... bla bla bla</span><br><span class="line">&gt; Running script <span class="string">&#x27;Install Third Party&#x27;</span></span><br></pre></td></tr></table></figure>

<p>å¯åŠ¨æ¨¡æ‹Ÿå™¨,ç„¶åå®‰è£…ä¸‹è½½ç¬¬ä¸‰æ–¹çš„ç»„ä»¶,ä¸‹è½½çš„è„šæœ¬æ˜¯<a target="_blank" rel="noopener" href="https://github.com/facebook/react-native/blob/master/scripts/ios-install-third-party.sh">scripts/ios-install-third-party.sh</a></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> [ -d <span class="string">&quot;<span class="variable">$HOME</span>/.rncache&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">  cachedir=<span class="string">&quot;<span class="variable">$HOME</span>/.rncache&quot;</span> <span class="comment"># react-native 0.57.8 and older</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  cachedir=<span class="string">&quot;<span class="variable">$HOME</span>/Library/Caches/com.facebook.ReactNativeBuild&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="built_in">mkdir</span> -p <span class="string">&quot;<span class="variable">$cachedir</span>&quot;</span></span><br><span class="line">...</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ç¼“å­˜ç›®å½•æ—§ç‰ˆåœ¨å®¶ç›®å½•çš„<code>.rncache</code>,å¦‚æœå­˜åœ¨è¯¥ç›®å½•,åˆ™ä¸‹è½½çš„åº“å°±ä¼šå®‰è£…åœ¨æ­¤å¤„,è‹¥ç½‘ç»œåŸå› æ— æ³•ä¸‹è½½,å¯å‚è€ƒ<a href="#refer4">iOS RN 0.45ä»¥ä¸Šç‰ˆæœ¬æ‰€éœ€çš„ç¬¬ä¸‰æ–¹ç¼–è¯‘åº“(boostç­‰)</a>,æ‰‹åŠ¨ä¸‹è½½å³å¯</p>
<p>ä½†æ˜¯,è¿è¡Œå¤±è´¥äº†</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Installing build/Build/Products/Debug-iphonesimulator/AwesomeProject.app</span><br><span class="line">An error was encountered processing the <span class="built_in">command</span> (domain=NSPOSIXErrorDomain, code=22):</span><br><span class="line">Failed to install the requested application</span><br><span class="line">The bundle identifier of the application could not be determined.</span><br><span class="line">Ensure that the application<span class="string">&#x27;s Info.plist contains a value for CFBundleIdentifier.</span></span><br><span class="line"><span class="string">Print: Entry, &quot;:CFBundleIdentifier&quot;, Does Not Exist</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Command failed: /usr/libexec/PlistBuddy -c Print:CFBundleIdentifier build/Build/Products/Debug-iphonesimulator/AwesomeProject.app/Info.plist</span></span><br><span class="line"><span class="string">Print: Entry, &quot;:CFBundleIdentifier&quot;, Does Not Exist</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Error: Command failed: /usr/libexec/PlistBuddy -c Print:CFBundleIdentifier build/Build/Products/Debug-iphonesimulator/AwesomeProject.app/Info.plist</span></span><br><span class="line"><span class="string">Print: Entry, &quot;:CFBundleIdentifier&quot;, Does Not Exist</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    at checkExecSyncError (child_process.js:637:11)</span></span><br><span class="line"><span class="string">    at Object.execFileSync (child_process.js:655:13)</span></span><br><span class="line"><span class="string">    at Promise.then (/Users/Jason/WebstormProjects/AwesomeProject/node_modules/react-native/local-cli/runIOS/runIOS.js:208:5)</span></span><br><span class="line"><span class="string">    at processTicksAndRejections (internal/process/next_tick.js:81:5)</span></span><br></pre></td></tr></table></figure>

<p>å†å¾€ä¸Šçœ‹,ç¼–è¯‘æ—¶å°±å·²ç»å¤±è´¥äº†</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">âŒ  /Users/Jason/WebstormProjects/AwesomeProject/node_modules/react-native/third-party/folly-2018.10.22.00/folly/detail/RangeCommon.h:22:10: &#x27;glog/logging.h&#x27; file not found</span><br><span class="line"></span><br><span class="line">#include &lt;glog/logging.h&gt;</span><br><span class="line">       ^</span><br></pre></td></tr></table></figure>

<p>ç”¨<code>Xcode</code> çš„æ–¹å¼è¯•è¯•</p>
<p>é€‰æ‹©æ¨¡æ‹Ÿå™¨å¹¶ç¼–è¯‘</p>
<p><img src="https://i.loli.net/2019/02/22/5c7011546bcd7.jpg"></p>
<p>é™¤äº†<code>jsi</code>ä¸­<code>RangeCommon.h</code>çš„<code>glog/logging.h</code>æ‰¾ä¸åˆ°ä»¥å¤–,è¿™ä¸ªä¸ä½¿ç”¨å‘½ä»¤è¡Œè¿è¡Œæ—¶æ˜¯ä¸€æ ·,åˆå¤šäº†ä¸‰ä¸ªé”™è¯¯,å‰©ä¸‹çš„3ä¸ªé”™è¯¯,å‚è€ƒ<a href="#refer5">Supporting Xcode 10 and the new Xcode build system</a>,<code>RN</code>çš„ä¸€ä¸ª<code>issue</code>,è°ƒæ•´å·¥ç¨‹çš„ç¼–è¯‘ç³»ç»Ÿ,å†æ¬¡ç¼–è¯‘</p>
<p><img src="https://i.loli.net/2019/02/22/5c70115445065.jpg"></p>
<p>ç°åœ¨é”™è¯¯å˜æˆä¸€æ ·äº†,éƒ½æ˜¯æ–‡ä»¶æ‰¾ä¸åˆ°,æ¥çœ‹çœ‹ä¸ºä»€ä¹ˆæ‰¾ä¸åˆ°,<code>React.xcodeproj</code> &gt; <code>ThirdParty</code> &gt; <code>glog</code> &gt; <code>glog</code>ä¸‹,ç¡®å®ç¼ºå°‘æ–‡ä»¶</p>
<p><img src="https://i.loli.net/2019/02/22/5c70115442340.jpg"></p>
<p><img src="https://i.loli.net/2019/02/22/5c70115450ed5.jpg"></p>
<p><code>jsi</code>ä¾èµ–äº<code>double-conversion</code><br><code>double-conversion</code>æ‰§è¡Œäº†<code>ios-install-third-party.sh</code>,å¹¶æœªèƒ½æˆåŠŸè¾“å‡ºéœ€è¦çš„å¤´æ–‡ä»¶</p>
<p><img src="https://i.loli.net/2019/02/22/5c701154982ca.jpg"></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## ios-install-third-party.sh</span></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">fetch_and_unpack</span></span> () &#123;</span><br><span class="line">    file=<span class="variable">$1</span></span><br><span class="line">    url=<span class="variable">$2</span></span><br><span class="line">    <span class="built_in">hash</span>=<span class="variable">$3</span></span><br><span class="line">    cmd=<span class="variable">$4</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$fetched</span>&quot;</span> = <span class="string">&quot;yes&quot;</span> ] || [ ! -f <span class="string">&quot;third-party/<span class="variable">$dir</span>/.installed&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">        (<span class="built_in">cd</span> third-party;</span><br><span class="line">        <span class="comment">## &lt;2&gt;</span></span><br><span class="line">         <span class="built_in">rm</span> -rf <span class="string">&quot;<span class="variable">$dir</span>&quot;</span></span><br><span class="line">         <span class="built_in">echo</span> Unpacking <span class="string">&quot;<span class="variable">$cachedir</span>/<span class="variable">$file</span>&quot;</span>...</span><br><span class="line">         <span class="keyword">if</span> ! tar zxf <span class="string">&quot;<span class="variable">$cachedir</span>/<span class="variable">$file</span>&quot;</span>; <span class="keyword">then</span></span><br><span class="line">             file_fail <span class="string">&quot;<span class="variable">$cachedir</span>/<span class="variable">$file</span>&quot;</span> <span class="string">&quot;Unpacking &#x27;<span class="variable">$cachedir</span>/<span class="variable">$file</span>&#x27; failed&quot;</span></span><br><span class="line">         <span class="keyword">fi</span></span><br><span class="line">         <span class="built_in">cd</span> <span class="string">&quot;<span class="variable">$dir</span>&quot;</span></span><br><span class="line">         <span class="built_in">eval</span> <span class="string">&quot;<span class="variable">$&#123;cmd:-true&#125;</span>&quot;</span> &amp;&amp; <span class="built_in">touch</span> .installed)</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">## &lt;1&gt;</span></span><br><span class="line"><span class="built_in">mkdir</span> -p third-party</span><br><span class="line"></span><br><span class="line">SCRIPTDIR=$(<span class="built_in">dirname</span> <span class="string">&quot;<span class="variable">$0</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">fetch_and_unpack glog-0.3.5.tar.gz https://github.com/google/glog/archive/v0.3.5.tar.gz 61067502c5f9769d111ea1ee3f74e6ddf0a5f9cc <span class="string">&quot;\&quot;<span class="variable">$SCRIPTDIR</span>/ios-configure-glog.sh\&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p><code>cd</code>åˆ°<code>third-party</code>ç›®å½•,å°†ç¼“å­˜ç›®å½•ä¸‹çš„åŒ…è§£å‹ç¼©,å¹¶æ‰§è¡Œå¯¹åº”çš„æŒ‡ä»¤,æ¯”å¦‚<code>glog-0.3.5</code>å°±æ‰§è¡Œ</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$SCRIPTDIR</span>/ios-configure-glog.sh</span><br></pre></td></tr></table></figure>

<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">### ios-configure-glog.sh</span></span><br><span class="line"></span><br><span class="line">./configure --host arm-apple-darwin</span><br><span class="line"></span><br><span class="line"><span class="comment"># Fix build for tvOS</span></span><br><span class="line"><span class="built_in">cat</span> &lt;&lt; <span class="string">EOF &gt;&gt; src/config.h</span></span><br><span class="line"><span class="string">...</span></span><br><span class="line"><span class="string"># Prepare exported header include</span></span><br><span class="line"><span class="string">EXPORTED_INCLUDE_DIR=&quot;exported/glog&quot;</span></span><br><span class="line"><span class="string">mkdir -p exported/glog</span></span><br><span class="line"><span class="string">cp -f src/glog/log_severity.h &quot;$EXPORTED_INCLUDE_DIR/&quot;</span></span><br><span class="line"><span class="string">cp -f src/glog/logging.h &quot;$EXPORTED_INCLUDE_DIR/&quot;</span></span><br><span class="line"><span class="string">cp -f src/glog/raw_logging.h &quot;$EXPORTED_INCLUDE_DIR/&quot;</span></span><br><span class="line"><span class="string">cp -f src/glog/stl_logging.h &quot;$EXPORTED_INCLUDE_DIR/&quot;</span></span><br><span class="line"><span class="string">cp -f src/glog/vlog_is_on.h &quot;$EXPORTED_INCLUDE_DIR/&quot;</span></span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œè¯¥è„šæœ¬æ‰§è¡Œ<code>configure</code>å¹¶åˆ›å»º<code>exported/glog</code>ç›®å½•,ç„¶åå°†<code>configure</code>è¿‡ç¨‹ä¸­ç”Ÿæˆçš„æ–‡ä»¶<code>cp</code>åˆ°è¯¥ç›®å½•,æ‰§è¡Œ<code>ios-configure-glog.sh</code>å</p>
<p>ç»“æœå¦‚ä¸‹:</p>
<p><img src="https://i.loli.net/2019/02/22/5c701154b86f2.jpg"></p>
<p><img src="https://i.loli.net/2019/02/22/5c701154c195a.jpg"></p>
<p>è¿™æ˜¯æ­£å¸¸çš„,ä½†æ˜¯<code>âŒ˜ + B</code>å†æ¬¡ç¼–è¯‘ååˆæŠ¥äº†ç›¸åŒçš„é”™è¯¯,å¯¹æ¯”<code>Xcode</code>ä¸ç»ˆç«¯æ‰§è¡Œçš„æ—¥å¿—ç»“æœå‘ç°,<code>Xcode</code>æ‰§è¡Œæ—¶<code>checking whether the C compiler works... </code> å¤±è´¥äº†</p>
<p><img src="https://i.loli.net/2019/02/22/5c70115a4758e.jpg"></p>
<h4 id="æŸ¥æ‰¾"><a href="#æŸ¥æ‰¾" class="headerlink" title="æŸ¥æ‰¾"></a>æŸ¥æ‰¾</h4><p>å…³äº<code>&#39;glog/logging.h&#39; file not found</code>,æ ¹æ®<a href="#refer6">â€˜glog/logging.hâ€™ file not found</a>å¾—åˆ°çš„è§£å†³æ–¹æ¡ˆæ˜¯</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> node_modules/react-native/third-party/glog-0.3.5</span><br><span class="line">sh ../../scripts/ios-configure-glog.sh</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢å·²ç»æ‰§è¡Œè¿‡äº†,ç”¨<code>Xcode</code>é‡æ–°ç¼–è¯‘è¿˜ä¼šå‡ºç°é—®é¢˜</p>
<p>å‚è€ƒ<a target="_blank" rel="noopener" href="https://github.com/facebook/react-native/pull/23511">react-native/pull/23511</a></p>
<p><img src="https://i.loli.net/2019/02/22/5c701154c4dce.jpg"></p>
<p>æ‰‹åŠ¨ä¿®æ”¹<code>ios-configure-glog.sh</code>æ–‡ä»¶</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="built_in">export</span> CXX=<span class="string">&quot;<span class="subst">$(xcrun -find -sdk $PLATFORM_NAME cc)</span> -arch <span class="variable">$CURRENT_ARCH</span> -isysroot <span class="subst">$(xcrun -sdk $PLATFORM_NAME --show-sdk-path)</span>&quot;</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>è¯•äº†ä»¥å,ç”¨<code>Xcode</code>ç¼–è¯‘ä¾ç„¶æŠ¥é”™ã„Ÿ( â–”, â–” )ã„</p>
<h4 id="ä¸ºä»€ä¹ˆæœ‰"><a href="#ä¸ºä»€ä¹ˆæœ‰" class="headerlink" title="ä¸ºä»€ä¹ˆæœ‰../../"></a>ä¸ºä»€ä¹ˆæœ‰<code>../../</code></h4><p>åœ¨ä¸Šé¢çš„ä»£ç çš„&lt;1&gt;å¤„å¯çŸ¥,<code>../..</code>å,å½“å‰ä½ç½®ä¼šåœ¨<code>.../react-native</code>ç›®å½•ä¸‹,è¦åœ¨è¯¥ç›®å½•ä¸‹åˆ›å»º<code>third-party</code>ç›®å½•,åŒæ—¶åˆè¦ä¿è¯<code>SCRIPTDIR</code>èƒ½æ­£ç¡®å®šä½åˆ°<code>ios-configure-glog.sh</code>å»æ‰§è¡Œã€‚</p>
<p>è¿™æ ·åšåè¿˜æ˜¯å¤±è´¥,å› ä¸º&lt;2&gt;å¤„ç§»é™¤å,é‡æ–°æ‰§è¡Œ,åŒæ ·å› ä¸º<code>configure</code>å¤±è´¥å¯¼è‡´æ— æ³•ç”Ÿæˆ<code>.h</code>æ–‡ä»¶ã€‚</p>
<h4 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h4><p>åœ¨ç»ˆç«¯æ ¹æ®ä¸Šé¢æåˆ°çš„æ–¹æ³•æ‰§è¡Œ<code>ios-install-third-party.sh</code>å</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ³¨é‡Šä¸‹é¢è¿™å¥</span></span><br><span class="line"><span class="comment"># fetch_and_unpack glog-0.3.5.tar.gz https://github.com/google/glog/archive/v0.3.5.tar.gz 61067502c5f9769d111ea1ee3f74e6ddf0a5f9cc &quot;\&quot;$SCRIPTDIR/ios-configure-glog.sh\&quot;&quot;</span></span><br></pre></td></tr></table></figure>

<p>é¿å…å»åˆ é™¤<code>glog</code>è¿™ä¸ªåŒ…,ç„¶åå†ç”¨Xcodeè¿›è¡Œç¼–è¯‘å°±æ­£å¸¸äº†,è¿è¡Œæ—¶æ¨¡æ‹Ÿå™¨ä¸‹è¿˜æ˜¯ä¼šå´©æºƒ,çœŸæœºèƒ½æ­£å¸¸è¿è¡Œã€‚</p>
<p><img src="https://i.loli.net/2019/02/22/5c70115a2fcb6.jpg"></p>
<p>èµ„æºåœ°å€è·å–ä¸æ­£ç¡®,æœ‰ç½‘ç»œä»£ç†å·¥å…·çš„æƒ…å†µæ—¶,æ¯”å¦‚<code>SS</code>,å°†å…¶è°ƒæˆè‡ªåŠ¨ä»£ç†æˆ–å…³é—­</p>
<p><img src="https://i.loli.net/2019/02/22/5c70115a2e090.jpg"></p>
<h3 id="Hello-world"><a href="#Hello-world" class="headerlink" title="Hello world"></a><code>Hello world</code></h3><p>ä¿®æ”¹<code>App.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> <span class="title class_">App</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span>&lt;<span class="title class_">Props</span>&gt; &#123;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">//   return (</span></span><br><span class="line">  <span class="comment">//     &lt;View style=&#123;styles.container&#125;&gt;</span></span><br><span class="line">  <span class="comment">//       &lt;Text style=&#123;styles.welcome&#125;&gt;Welcome to React Native!&lt;/Text&gt;</span></span><br><span class="line">  <span class="comment">//       &lt;Text style=&#123;styles.instructions&#125;&gt;To get started, edit App.js&lt;/Text&gt;</span></span><br><span class="line">  <span class="comment">//       &lt;Text style=&#123;styles.instructions&#125;&gt;&#123;instructions&#125;&lt;/Text&gt;</span></span><br><span class="line">  <span class="comment">//     &lt;/View&gt;</span></span><br><span class="line">  <span class="comment">//   );</span></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">View</span> <span class="attr">style</span>=<span class="string">&#123;&#123;</span> <span class="attr">flex:</span> <span class="attr">1</span>, <span class="attr">justifyContent:</span> &quot;<span class="attr">center</span>&quot;, <span class="attr">alignItems:</span> &quot;<span class="attr">center</span>&quot;,<span class="attr">backgroundColor:</span> &#x27;#<span class="attr">F5FCFF</span>&#x27;, &#125;&#125;&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">Text</span>&gt;</span>Hello world!<span class="tag">&lt;/<span class="name">Text</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">View</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¦ä½¿ç”¨<code>backgroundColor: &#39;#F5FCFF&#39;</code>è®¾ç½®èƒŒæ™¯è‰²</p>
<h2 id="é›†æˆReactNativeåˆ°å·²æœ‰é¡¹ç›®"><a href="#é›†æˆReactNativeåˆ°å·²æœ‰é¡¹ç›®" class="headerlink" title="é›†æˆReactNativeåˆ°å·²æœ‰é¡¹ç›®"></a>é›†æˆ<code>ReactNative</code>åˆ°å·²æœ‰é¡¹ç›®</h2><h3 id="å»ºç«‹ç›®å½•ç»“æ„"><a href="#å»ºç«‹ç›®å½•ç»“æ„" class="headerlink" title="å»ºç«‹ç›®å½•ç»“æ„"></a>å»ºç«‹ç›®å½•ç»“æ„</h3><p>æ–°å»ºä¸€ä¸ªç›®å½•å»é›†æˆ<code>RN</code>å·¥ç¨‹,å°†<code>Xcode</code>å·¥ç¨‹å¤åˆ¶åˆ°<code>RN</code>ä¸‹çš„<code>ios</code>å­ç›®å½•</p>
<h3 id="å®‰è£…JavaScriptä¾èµ–åº“"><a href="#å®‰è£…JavaScriptä¾èµ–åº“" class="headerlink" title="å®‰è£…JavaScriptä¾èµ–åº“"></a>å®‰è£…<code>JavaScript</code>ä¾èµ–åº“</h3><p>åœ¨<code>RN</code>å·¥ç¨‹æ ¹ç›®å½•ä¸‹,åˆ›å»º<code>package.json</code>æ–‡ä»¶</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;name&quot;</span>: <span class="string">&quot;AnNativeApp&quot;</span>,</span><br><span class="line">  <span class="string">&quot;version&quot;</span>: <span class="string">&quot;0.0.1&quot;</span>,</span><br><span class="line">  <span class="string">&quot;private&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="string">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;start&quot;</span>: <span class="string">&quot;node node_modules/react-native/local-cli/cli.js start&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## è‹¥ yarn ä¸å­˜åœ¨,å®‰è£…</span></span><br><span class="line"><span class="comment">## brew install yarn</span></span><br><span class="line"></span><br><span class="line">yarn add react-native</span><br><span class="line"></span><br><span class="line"><span class="comment">## å®‰è£…React</span></span><br><span class="line"><span class="comment"># warning &quot; &gt; react-native@0.58.5&quot; has unmet peer dependency &quot;react@16.6.3&quot;.</span></span><br><span class="line"><span class="comment"># è€Œä¸”åŸæ¥ä½¿ç”¨``WebStorm``ç”Ÿæˆçš„``package.json``ä¸­åŒ…å«çš„``react``å’Œ``react-native``,æ‰€ä»¥``react``ä¹Ÿé€‰16.6.3</span></span><br><span class="line"><span class="comment"># &quot;dependencies&quot;: &#123;</span></span><br><span class="line"><span class="comment">#		&quot;react&quot;: &quot;16.6.3&quot;,</span></span><br><span class="line"><span class="comment">#		&quot;react-native&quot;: &quot;0.58.5&quot;</span></span><br><span class="line"><span class="comment"># &#125;,</span></span><br><span class="line">yarn add react@version_printed_above</span><br></pre></td></tr></table></figure>

<p>æŠŠ<code>node_modules</code>æ·»åŠ åˆ°<code>.gitignore</code>æ–‡ä»¶ä¸­</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å°†``WebStorm``ç”Ÿæˆçš„.gitignoreå¤åˆ¶åˆ°``RN``æ ¹ç›®å½•ä¸‹å³å¯</span></span><br><span class="line"><span class="built_in">cp</span> .gitignore  ~/Desktop/AnNativeApp/</span><br></pre></td></tr></table></figure>

<h3 id="ä½¿ç”¨CocoaPodsé›†æˆ"><a href="#ä½¿ç”¨CocoaPodsé›†æˆ" class="headerlink" title="ä½¿ç”¨CocoaPodsé›†æˆ"></a>ä½¿ç”¨<code>CocoaPods</code>é›†æˆ</h3><p>åœ¨<code>ios</code>ç›®å½•ä¸‹,åˆå§‹åŒ–<code>pod init</code>é…ç½®</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pod init</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">platform :ios, &#x27;9.0&#x27;</span><br><span class="line"></span><br><span class="line">target &#x27;AnNativeApp&#x27; do</span><br><span class="line">  # Uncomment the next line if you&#x27;re using Swift or would like to use dynamic frameworks</span><br><span class="line">  # use_frameworks!</span><br><span class="line">  # Your &#x27;node_modules&#x27; directory is probably in the root of your project,</span><br><span class="line">  # but if not, adjust the `:path` accordingly</span><br><span class="line">  pod &#x27;React&#x27;, :path =&gt; &#x27;../node_modules/react-native&#x27;, :subspecs =&gt; [</span><br><span class="line">    &#x27;Core&#x27;,</span><br><span class="line">    &#x27;CxxBridge&#x27;, # Include this for RN &gt;= 0.47</span><br><span class="line">    &#x27;DevSupport&#x27;, # Include this to enable In-App Devmenu if RN &gt;= 0.43</span><br><span class="line">    &#x27;RCTText&#x27;,</span><br><span class="line">    &#x27;RCTNetwork&#x27;,</span><br><span class="line">    &#x27;RCTWebSocket&#x27;, # Needed for debugging</span><br><span class="line">    &#x27;RCTAnimation&#x27;, # Needed for FlatList and animations running on native UI thread</span><br><span class="line">    # Add any other subspecs you want to use in your project</span><br><span class="line">  ]</span><br><span class="line">  # Explicitly include Yoga if you are using RN &gt;= 0.42.0</span><br><span class="line">  pod &#x27;yoga&#x27;, :path =&gt; &#x27;../node_modules/react-native/ReactCommon/yoga&#x27;</span><br><span class="line"></span><br><span class="line">  # Third party deps podspec link</span><br><span class="line">  pod &#x27;DoubleConversion&#x27;, :podspec =&gt; &#x27;../node_modules/react-native/third-party-podspecs/DoubleConversion.podspec&#x27;</span><br><span class="line">  pod &#x27;glog&#x27;, :podspec =&gt; &#x27;../node_modules/react-native/third-party-podspecs/glog.podspec&#x27;</span><br><span class="line">  pod &#x27;Folly&#x27;, :podspec =&gt; &#x27;../node_modules/react-native/third-party-podspecs/Folly.podspec&#x27;</span><br><span class="line"></span><br><span class="line">  target &#x27;AnNativeAppTests&#x27; do</span><br><span class="line">    inherit! :search_paths</span><br><span class="line">    # Pods for testing</span><br><span class="line">  end</span><br><span class="line"></span><br><span class="line">  target &#x27;AnNativeAppUITests&#x27; do</span><br><span class="line">    inherit! :search_paths</span><br><span class="line">    # Pods for testing</span><br><span class="line">  end</span><br><span class="line"></span><br><span class="line">end</span><br></pre></td></tr></table></figure>

<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pod install</span><br></pre></td></tr></table></figure>

<p>å¯èƒ½ä¼šç¢°åˆ°å¦‚ä¸‹çš„é”™è¯¯</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">Installing boost-for-react-native (1.63.0)</span><br><span class="line"></span><br><span class="line">[!] Error installing boost-for-react-native</span><br><span class="line">[!] /usr/local/bin/git <span class="built_in">clone</span> https://github.com/react-native-community/boost-for-react-native.git /var/folders/lk/znn1qp4925j412wt4t_qkplc0000gn/T/d20190222-11171-yp7x2 --template= --single-branch --depth 1 --branch v1.63.0-0</span><br><span class="line"></span><br><span class="line">Cloning into <span class="string">&#x27;/var/folders/lk/znn1qp4925j412wt4t_qkplc0000gn/T/d20190222-11171-yp7x2&#x27;</span>...</span><br><span class="line">error: RPC failed; curl 18 transfer closed with outstanding <span class="built_in">read</span> data remaining</span><br><span class="line">fatal: The remote end hung up unexpectedly</span><br><span class="line">fatal: early EOF</span><br><span class="line">fatal: index-pack failed</span><br></pre></td></tr></table></figure>

<p>å› ä¸ºä»“åº“å¤ªå¤§äº†,æœç´¢åå¤§è‡´æœ‰ä¸¤ç§åŠæ³•</p>
<p>æ–¹å¼ä¸€</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## man git-config</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## http.postBuffer</span></span><br><span class="line"><span class="comment">##           Maximum size in bytes of the buffer used by smart HTTP transports when POSTing data to the remote system. For requests larger than</span></span><br><span class="line"><span class="comment">##           this buffer size, HTTP/1.1 and Transfer-Encoding: chunked is used to avoid creating a massive pack file locally. Default is 1 MiB,</span></span><br><span class="line"><span class="comment">##           which is sufficient for most requests.</span></span><br><span class="line">git config --global http.postBuffer 524288000</span><br></pre></td></tr></table></figure>

<p>æ–¹å¼äºŒ</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> http://github.com/large-repository --depth 1</span><br><span class="line"><span class="built_in">cd</span> large-repository</span><br><span class="line">git fetch --unshallow</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨äº†æ–¹å¼ä¸€æ­£å¸¸è§£å†³äº†ã€‚å› ä¸ºæ ¹æ®é”™è¯¯ä¿¡æ¯è¯´æ˜å·²ç»æ˜¯ç”¨<code>--depth 1</code>å»ä¸‹è½½äº†,ä½†æ˜¯å¯ä»¥å»äº†è§£ä¸€ä¸‹</p>
<p>é€šè¿‡<code>[!] Error installing</code>ä½œä¸ºå…³é”®è¯å»<a target="_blank" rel="noopener" href="https://github.com/CocoaPods/CocoaPods">CocoaPods</a>æœç´¢</p>
<p><code>CocoaPods/lib/cocoapods/downloader/cache.rb</code></p>
<figure class="highlight rb"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Downloads the Pod from the given `request`</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># <span class="doctag">@param</span>  [Request] request</span></span><br><span class="line"><span class="comment">#         the request to be downloaded.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># <span class="doctag">@return</span> [Response] the response from downloading `request`</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">download_pod</span>(<span class="params">request</span>)</span><br><span class="line">  cached_pod(request) |<span class="params"></span>| uncached_pod(request)</span><br><span class="line"><span class="keyword">rescue</span> <span class="title class_">Informative</span></span><br><span class="line">  <span class="keyword">raise</span></span><br><span class="line"><span class="keyword">rescue</span></span><br><span class="line">  <span class="keyword">raise</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>

<p>è°ƒç”¨</p>
<figure class="highlight rb"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">cached_pod</span>(<span class="params">request</span>)</span><br><span class="line">  cached_spec = cached_spec(request)</span><br><span class="line">  path = path_for_pod(request)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">unless</span> cached_spec &amp;&amp; path.directory?</span><br><span class="line">  spec = request.spec |<span class="params"></span>| cached_spec</span><br><span class="line">  <span class="title class_">Response</span>.new(path, spec, request.params)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>

<p>å› ä¸ºæ˜¯ç”¨<code>gem</code>å®‰è£…çš„</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gem <span class="built_in">env</span></span><br></pre></td></tr></table></figure>

<p>è·å¾—<code>gem</code>åŒ…çš„å®‰è£…ä½ç½®,å®šä½åˆ°<code>cache.rb</code>,ç»è¿‡ä¸€äº›æ­¥éª¤ä¹‹å,</p>
<p><code>cocoapods-downloader/lib/cocoapods-downloader/git.rb</code></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Clones the repo. If possible the repo will be shallowly cloned.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># @note   The `:commit` option requires a specific strategy as it is not</span></span><br><span class="line"><span class="comment">#         possible to specify the commit to the `clone` command.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># @note   `--branch` command line option can also take tags and detaches</span></span><br><span class="line"><span class="comment">#         the HEAD.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># @param  [Bool] force_head</span></span><br><span class="line"><span class="comment">#         If any specific option should be ignored and the HEAD of the</span></span><br><span class="line"><span class="comment">#         repo should be cloned.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># @param  [Bool] shallow_clone</span></span><br><span class="line"><span class="comment">#         Whether a shallow clone of the repo should be attempted, if</span></span><br><span class="line"><span class="comment">#         possible given the specified &#123;#options&#125;.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">def <span class="built_in">clone</span>(force_head = <span class="literal">false</span>, shallow_clone = <span class="literal">true</span>)</span><br><span class="line">  ui_sub_action(<span class="string">&#x27;Git download&#x27;</span>) <span class="keyword">do</span></span><br><span class="line">    begin</span><br><span class="line">      git! clone_arguments(force_head, shallow_clone)</span><br><span class="line">      update_submodules</span><br><span class="line">    rescue DownloaderError =&gt; e</span><br><span class="line">      <span class="keyword">if</span> e.message =~ /^fatal:.*does not support (--depth|shallow capabilities)$/im</span><br><span class="line">        <span class="built_in">clone</span>(force_head, <span class="literal">false</span>)</span><br><span class="line">      <span class="keyword">else</span></span><br><span class="line">        raise</span><br><span class="line">      end</span><br><span class="line">    end</span><br><span class="line">  end</span><br><span class="line">end</span><br></pre></td></tr></table></figure>

<h3 id="ä»£ç é›†æˆ"><a href="#ä»£ç é›†æˆ" class="headerlink" title="ä»£ç é›†æˆ"></a>ä»£ç é›†æˆ</h3><h4 id="åˆ›å»ºindex-js-amp-amp-æ·»åŠ RNä»£ç "><a href="#åˆ›å»ºindex-js-amp-amp-æ·»åŠ RNä»£ç " class="headerlink" title="åˆ›å»ºindex.js &amp;&amp; æ·»åŠ RNä»£ç "></a>åˆ›å»º<code>index.js</code> &amp;&amp; æ·»åŠ <code>RN</code>ä»£ç </h4><p>å¯ä»¥å‚è€ƒ<code>WebStorm</code>åˆ›å»ºçš„<code>index.js</code>å’Œ<code>App.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123;<span class="title class_">Component</span>&#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;<span class="title class_">Platform</span>, <span class="title class_">StyleSheet</span>, <span class="title class_">Text</span>, <span class="title class_">View</span>&#125; <span class="keyword">from</span> <span class="string">&#x27;react-native&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// &lt;1&gt;</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">RNHighScores</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> contents = <span class="variable language_">this</span>.<span class="property">props</span>[<span class="string">&#x27;scores&#x27;</span>].<span class="title function_">map</span>(<span class="function">(<span class="params">score</span>) =&gt;</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">Text</span> <span class="attr">key</span>=<span class="string">&#123;score.name&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        &#123;score.name&#125;:&#123;score.value&#125;</span></span><br><span class="line"><span class="language-xml">        &#123;&#x27;\n&#x27;&#125;</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">Text</span>&gt;</span></span></span><br><span class="line">    ));</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">View</span> <span class="attr">style</span>=<span class="string">&#123;styles.container&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">Text</span> <span class="attr">style</span>=<span class="string">&#123;styles.highScoresTitle&#125;</span>&gt;</span>2048 High Scores!<span class="tag">&lt;/<span class="name">Text</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        // &lt;2&gt;</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">Text</span> <span class="attr">style</span>=<span class="string">&#123;styles.scores&#125;</span>&gt;</span>&#123;contents&#125;<span class="tag">&lt;/<span class="name">Text</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">View</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    );</span></span><br><span class="line"><span class="language-xml">  &#125;</span></span><br><span class="line"><span class="language-xml">&#125;</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">const styles = StyleSheet.create(&#123;</span></span><br><span class="line"><span class="language-xml">  container: &#123;</span></span><br><span class="line"><span class="language-xml">    flex: 1,</span></span><br><span class="line"><span class="language-xml">		...</span></span><br><span class="line"><span class="language-xml">  &#125;,</span></span><br><span class="line"><span class="language-xml">  highScoresTitle: &#123;</span></span><br><span class="line"><span class="language-xml">    fontSize: 20,</span></span><br><span class="line"><span class="language-xml">		...</span></span><br><span class="line"><span class="language-xml">  &#125;,</span></span><br><span class="line"><span class="language-xml">  scores: &#123;</span></span><br><span class="line"><span class="language-xml">    textAlign: &#x27;center&#x27;,</span></span><br><span class="line"><span class="language-xml">    ...</span></span><br><span class="line"><span class="language-xml">  &#125;,</span></span><br><span class="line"><span class="language-xml">&#125;);</span></span><br></pre></td></tr></table></figure>

<h4 id="æ·»åŠ RCTRootView"><a href="#æ·»åŠ RCTRootView" class="headerlink" title="æ·»åŠ RCTRootView"></a>æ·»åŠ <code>RCTRootView</code></h4><p>åœ¨<code>Xcode</code>çš„<code>ViewController</code>ä¸­</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &lt;3&gt;</span></span><br><span class="line">    <span class="built_in">NSURL</span> *jsCodeLocation = [<span class="built_in">NSURL</span> URLWithString:<span class="string">@&quot;http://192.168.31.191:8081/index.bundle?platform=ios&quot;</span>];</span><br><span class="line">    <span class="comment">// [[RCTBundleURLProvider sharedSettings] jsBundleURLForBundleRoot:@&quot;index&quot; fallbackResource:nil];    </span></span><br><span class="line">    </span><br><span class="line">    RCTRootView *rootView =</span><br><span class="line">    [[RCTRootView alloc] initWithBundleURL: jsCodeLocation</span><br><span class="line">                                moduleName: <span class="string">@&quot;AnNativeApp&quot;</span> <span class="comment">// &lt;4&gt;</span></span><br><span class="line">                         initialProperties:</span><br><span class="line">                         @&#123;</span><br><span class="line">                           <span class="string">@&quot;scores&quot;</span> : @[</span><br><span class="line">                                   @&#123;</span><br><span class="line">                                       <span class="string">@&quot;name&quot;</span> : <span class="string">@&quot;Alex&quot;</span>,</span><br><span class="line">                                       <span class="string">@&quot;value&quot;</span>: <span class="string">@&quot;42&quot;</span></span><br><span class="line">                                       &#125;,</span><br><span class="line">                                   @&#123;</span><br><span class="line">                                       <span class="string">@&quot;name&quot;</span> : <span class="string">@&quot;Joel&quot;</span>,</span><br><span class="line">                                       <span class="string">@&quot;value&quot;</span>: <span class="string">@&quot;10&quot;</span></span><br><span class="line">                                       &#125;</span><br><span class="line">                                   ]</span><br><span class="line">                           &#125;</span><br><span class="line">                         launchOptions: <span class="literal">nil</span>];</span><br><span class="line"><span class="comment">// &lt;5&gt;                         </span></span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:rootView];</span><br></pre></td></tr></table></figure>

<h4 id="å…è®¸ç½‘ç»œè®¿é—®"><a href="#å…è®¸ç½‘ç»œè®¿é—®" class="headerlink" title="å…è®¸ç½‘ç»œè®¿é—®"></a>å…è®¸ç½‘ç»œè®¿é—®</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>NSAppTransportSecurity<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dict</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>NSExceptionDomains<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dict</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">key</span>&gt;</span>localhost<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dict</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">key</span>&gt;</span>NSTemporaryExceptionAllowsInsecureHTTPLoads<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">true</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dict</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dict</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dict</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="è¿è¡Œå¼€å‘æœåŠ¡å™¨"><a href="#è¿è¡Œå¼€å‘æœåŠ¡å™¨" class="headerlink" title="è¿è¡Œå¼€å‘æœåŠ¡å™¨"></a>è¿è¡Œå¼€å‘æœåŠ¡å™¨</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm start</span><br></pre></td></tr></table></figure>

<p>ç„¶åå°±å¯ä»¥è¿è¡Œ<code>Xcode</code>é¡¹ç›®,è§‚å¯Ÿæ•ˆæœäº†</p>
<h4 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h4><p>&lt;1&gt; æ•™ç¨‹ä¸­æ˜¯æŠŠæ‰€æœ‰çš„éƒ½å†™åœ¨<code>index.js</code>ä¸­çš„,è€Œç›®å‰æ˜¯å‚è€ƒ<code>WebStorm</code>åˆ›å»ºçš„å·¥ç¨‹,é™¤äº†<code>index.js</code>è¿˜æœ‰<code>App.js</code>,ä¼šæŠ¥é”™,ä¿®æ”¹</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> <span class="title class_">RNHighScores</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br></pre></td></tr></table></figure>

<p>&lt;2&gt; è·å–å˜é‡çš„æ–¹æ³•å¯ä»¥ç”¨<code>&#123;&#125;</code></p>
<p>&lt;3&gt;</p>
<blockquote>
<p>When you build a React Native application, you use the React Native packager to create an index.bundle that will be served by the React Native server. Inside index.bundle will be our RNHighScore module. So, we need to point our RCTRootView to the location of the index.bundle resource (via NSURL) and tie it to the module.</p>
</blockquote>
<p>å¦‚æœåœ¨çœŸæœºçš„ç¯å¢ƒä¸‹,è¦æ›¿æ¢æˆå¯¹åº”çš„<code>mac</code>(æœåŠ¡å™¨)çš„<code>IP</code></p>
<p>&lt;4&gt; è¦ä¿è¯ </p>
<ul>
<li><code>package.json</code>,</li>
<li><code>moduleName:</code> åé¢çš„å‚æ•°</li>
<li><code>AppRegistry.registerComponent(appName, () =&gt; App);</code></li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> package.json</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;name&quot;</span>: <span class="string">&quot;AnNativeApp&quot;</span>,// &lt;= è¿™é‡Œ</span><br><span class="line">  <span class="string">&quot;version&quot;</span>: <span class="string">&quot;0.0.1&quot;</span>,</span><br><span class="line">  <span class="string">&quot;private&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="string">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;start&quot;</span>: <span class="string">&quot;node node_modules/react-native/local-cli/cli.js start&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">&quot;dependencies&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;react&quot;</span>: <span class="string">&quot;^16.6.3&quot;</span>,</span><br><span class="line">    <span class="string">&quot;react-native&quot;</span>: <span class="string">&quot;^0.58.5&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">## import &#123;name as appName&#125; from &#x27;./app.json&#x27;;</span></span><br><span class="line"><span class="built_in">cat</span> app.json</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;name&quot;</span>: <span class="string">&quot;AnNativeApp&quot;</span>, &lt;= è¿™é‡Œ</span><br><span class="line">  <span class="string">&quot;displayName&quot;</span>: <span class="string">&quot;AnNativeApp&quot;</span></span><br><span class="line">&#125;%</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸‰è€…æ˜¯ä¸€è‡´çš„</p>
<p>&lt;5&gt; <code>RCTRootView</code>ç»§æ‰¿è‡ª<code>UIView</code>,è¦è®¾ç½®<code>frame</code></p>
<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ol>
<li><a target="_blank" rel="noopener" href="https://juejin.im/post/5898388b128fe1006cb943e3">ç»™æ‰€æœ‰å¼€å‘è€…çš„React Nativeè¯¦ç»†å…¥é—¨æŒ‡å—ï¼ˆç¬¬ä¸€é˜¶æ®µï¼‰</a></li>
<li><span id="refer2"><a target="_blank" rel="noopener" href="https://facebook.github.io/react-native/docs/getting-started.html">React Native 0.58 Getting-started</a></span></li>
<li><span id="refer3"><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/11284634/upgrade-node-js-to-the-latest-version-on-mac-os/11298299?r=SearchResults#11298299">Upgrade Node.js to the latest version on Mac OS</a></span></li>
<li><span id="refer4"><a target="_blank" rel="noopener" href="http://bbs.reactnative.cn/topic/4301/ios-rn-0-45%E4%BB%A5%E4%B8%8A%E7%89%88%E6%9C%AC%E6%89%80%E9%9C%80%E7%9A%84%E7%AC%AC%E4%B8%89%E6%96%B9%E7%BC%96%E8%AF%91%E5%BA%93-boost%E7%AD%89">iOS RN 0.45ä»¥ä¸Šç‰ˆæœ¬æ‰€éœ€çš„ç¬¬ä¸‰æ–¹ç¼–è¯‘åº“(boostç­‰)</a></span></li>
<li><span id="refer5"><a target="_blank" rel="noopener" href="https://github.com/facebook/react-native/issues/19573">Supporting Xcode 10 and the new Xcode build system</a></span></li>
<li><span id="refer6"><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/49657043/glog-logging-h-file-not-found">â€˜glog/logging.hâ€™ file not found</a></span></li>
<li><span id="refer7"><a target="_blank" rel="noopener" href="https://github.com/facebook/react-native/pull/23511">[iOS] Fix pod install error in configure: C compiler cannot create executables</a></li>
<li><span id="refer8"><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/50836558/react-native-config-h-not-found">React Native Config.h not found</a></span></li>
<li><a target="_blank" rel="noopener" href="https://www.crifan.com/react_native_ios_run_again_error_no_bundle_url_present/">ReactNative iOSè¿è¡Œå†æ¬¡å‡ºé”™ï¼šNo bundle URL present</a></li>
<li><a target="_blank" rel="noopener" href="https://facebook.github.io/react-native/docs/integration-with-existing-apps.html">integration-with-existing-apps</a></li>
<li><span id="refer11"><a target="_blank" rel="noopener" href="https://reactnative.cn/docs/getting-started/">æ­å»ºå¼€å‘ç¯å¢ƒ</a></span></li>
</ol>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/RN/" rel="tag"># RN</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2019/02/09/iOS-Analysis-iOS-Crash/" rel="prev" title="iOS - å´©æºƒæ—¥å¿—åˆ†æ">
      <i class="fa fa-chevron-left"></i> iOS - å´©æºƒæ—¥å¿—åˆ†æ
    </a></div>
      <div class="post-nav-item">
    <a href="/2019/11/25/iOSer-OC-Color-macro/" rel="next" title="iOS é¢œè‰²å®">
      iOS é¢œè‰²å® <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%8E%AF%E5%A2%83"><span class="nav-number">1.</span> <span class="nav-text">ç¯å¢ƒ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%96%B0%E5%BB%BAReactNative%E9%A1%B9%E7%9B%AE"><span class="nav-number">2.</span> <span class="nav-text">æ–°å»ºReactNativeé¡¹ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%89%E8%A3%85React-Native%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7"><span class="nav-number">2.1.</span> <span class="nav-text">å®‰è£…React Nativeå‘½ä»¤è¡Œå·¥å…·</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%89%E8%A3%85Xcode%E5%8F%8A%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%9B%B8%E5%85%B3%E5%B7%A5%E5%85%B7"><span class="nav-number">2.2.</span> <span class="nav-text">å®‰è£…XcodeåŠå‘½ä»¤è¡Œç›¸å…³å·¥å…·</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E6%96%B0%E5%BA%94%E7%94%A8"><span class="nav-number">2.3.</span> <span class="nav-text">åˆ›å»ºæ–°åº”ç”¨</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%91%BD%E4%BB%A4%E8%A1%8C"><span class="nav-number">2.3.1.</span> <span class="nav-text">å‘½ä»¤è¡Œ</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#WebStorm"><span class="nav-number">2.3.2.</span> <span class="nav-text">WebStorm</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%90%E8%A1%8CReact-Native%E5%BA%94%E7%94%A8"><span class="nav-number">2.4.</span> <span class="nav-text">è¿è¡ŒReact Nativeåº”ç”¨</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9F%A5%E6%89%BE"><span class="nav-number">2.4.1.</span> <span class="nav-text">æŸ¥æ‰¾</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E6%9C%89"><span class="nav-number">2.4.2.</span> <span class="nav-text">ä¸ºä»€ä¹ˆæœ‰..&#x2F;..&#x2F;</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95"><span class="nav-number">2.4.3.</span> <span class="nav-text">è§£å†³æ–¹æ³•</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Hello-world"><span class="nav-number">2.5.</span> <span class="nav-text">Hello world</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%9B%86%E6%88%90ReactNative%E5%88%B0%E5%B7%B2%E6%9C%89%E9%A1%B9%E7%9B%AE"><span class="nav-number">3.</span> <span class="nav-text">é›†æˆReactNativeåˆ°å·²æœ‰é¡¹ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BB%BA%E7%AB%8B%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84"><span class="nav-number">3.1.</span> <span class="nav-text">å»ºç«‹ç›®å½•ç»“æ„</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%89%E8%A3%85JavaScript%E4%BE%9D%E8%B5%96%E5%BA%93"><span class="nav-number">3.2.</span> <span class="nav-text">å®‰è£…JavaScriptä¾èµ–åº“</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8CocoaPods%E9%9B%86%E6%88%90"><span class="nav-number">3.3.</span> <span class="nav-text">ä½¿ç”¨CocoaPodsé›†æˆ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E9%9B%86%E6%88%90"><span class="nav-number">3.4.</span> <span class="nav-text">ä»£ç é›†æˆ</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%9B%E5%BB%BAindex-js-amp-amp-%E6%B7%BB%E5%8A%A0RN%E4%BB%A3%E7%A0%81"><span class="nav-number">3.4.1.</span> <span class="nav-text">åˆ›å»ºindex.js &amp;&amp; æ·»åŠ RNä»£ç </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0RCTRootView"><span class="nav-number">3.4.2.</span> <span class="nav-text">æ·»åŠ RCTRootView</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%85%81%E8%AE%B8%E7%BD%91%E7%BB%9C%E8%AE%BF%E9%97%AE"><span class="nav-number">3.4.3.</span> <span class="nav-text">å…è®¸ç½‘ç»œè®¿é—®</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BF%90%E8%A1%8C%E5%BC%80%E5%8F%91%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="nav-number">3.4.4.</span> <span class="nav-text">è¿è¡Œå¼€å‘æœåŠ¡å™¨</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="nav-number">3.4.5.</span> <span class="nav-text">æ³¨æ„äº‹é¡¹</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%82%E8%80%83"><span class="nav-number">4.</span> <span class="nav-text">å‚è€ƒ</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">å¿˜å·ä¸‰</p>
  <div class="site-description" itemprop="description">404~ ~ ~å°±å¤šèµ°ä¸€æ­¥</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">84</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">27</span>
        <span class="site-state-item-name">æ ‡ç­¾</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">å¿˜å·ä¸‰</span>
</div>
  <div class="powered-by">ç”± <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> å¼ºåŠ›é©±åŠ¨
  </div>


        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="æ€»è®¿å®¢é‡">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="æ€»è®¿é—®é‡">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
